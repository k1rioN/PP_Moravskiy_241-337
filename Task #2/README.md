# ğŸŒ Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾Ğ¹ Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸ Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ Ğ½Ğ° Node.js

## ğŸ“š ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

Ğ’ ÑÑ‚Ğ¾Ğ¼ Ñ€ÑƒĞºĞ¾Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğµ Ğ¼Ñ‹ ÑĞ¾Ğ·Ğ´Ğ°Ğ´Ğ¸Ğ¼ ÑĞ¾Ğ±ÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾Ğ¹ **Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¸Ğ·Ğ°Ñ‚Ğ¾Ñ€** â€” Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ, ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ°Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ¿Ğ¾Ñ…Ğ¾Ğ¶Ğ¸Ğ¼ Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ¼ Ğ½Ğ° Express.js: Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ HTTP-Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑ‹ Ğ¸ Ğ²Ñ‹Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ÑƒÑÑ‰Ğ¸Ğµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸-Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ¸. Ğ­Ñ‚Ğ¾ Ğ¿Ğ¾Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ³Ğ»ÑƒĞ±Ğ¶Ğµ Ğ¿Ğ¾Ğ½ÑÑ‚ÑŒ, ĞºĞ°Ğº ÑƒÑÑ‚Ñ€Ğ¾ĞµĞ½Ñ‹ Ğ²ĞµĞ±-ÑĞµÑ€Ğ²ĞµÑ€Ñ‹ Ğ¸ ĞºĞ°Ğº Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ backend Ğ½Ğ° Node.js.

---

## ğŸ” Ğ˜ÑÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚Ğ½Ğ¾Ğ¹ Ğ¾Ğ±Ğ»Ğ°ÑÑ‚Ğ¸

### Ğ§Ñ‚Ğ¾ Ñ‚Ğ°ĞºĞ¾Ğµ Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ?

ĞœĞ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ â€” ÑÑ‚Ğ¾ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑ Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ñ, ĞºĞ°ĞºĞ°Ñ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ° Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°Ñ‚ÑŒ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ Ğ¿Ğ¾ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ğ¾Ğ¼Ñƒ URL Ğ¸ HTTP-Ğ¼ĞµÑ‚Ğ¾Ğ´Ñƒ.

**ĞŸÑ€Ğ¸Ğ¼ĞµÑ€:**
- GET `/home` â†’ Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ Ğ³Ğ»Ğ°Ğ²Ğ½ÑƒÑ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñƒ
- POST `/form` â†’ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ñ‚ÑŒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ñ„Ğ¾Ñ€Ğ¼Ñ‹

### ĞšĞ°Ğº ÑÑ‚Ğ¾ Ğ´ĞµĞ»Ğ°ĞµÑ‚ Express?

Express.js:
- Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ Ğ¾Ğ±ÑŠĞµĞºÑ‚ `app` Ğ´Ğ»Ñ Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¾Ğ² (`app.get(...)`, `app.post(...)`)
- Ğ¿Ğ¾Ğ´ ĞºĞ°Ğ¿Ğ¾Ñ‚Ğ¾Ğ¼ ÑĞ¾Ğ·Ğ´Ğ°ĞµÑ‚ `Layer` (ÑĞ»Ğ¾Ğ¹), Ğ³Ğ´Ğµ Ñ…Ñ€Ğ°Ğ½ÑÑ‚ÑÑ Ğ¿ÑƒÑ‚ÑŒ, Ğ¼ĞµÑ‚Ğ¾Ğ´ Ğ¸ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸Ğº
- Ğ¿Ñ€Ğ¸ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞµ Ğ¿ĞµÑ€ĞµĞ±Ğ¸Ñ€Ğ°ĞµÑ‚ ÑĞ»Ğ¾Ğ¸, Ğ¸Ñ‰ĞµÑ‚ ÑĞ¾Ğ²Ğ¿Ğ°Ğ´ĞµĞ½Ğ¸Ğµ Ğ¸ Ğ²Ñ‹Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸Ğº

---

## âš™ï¸ Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ ÑĞ²Ğ¾ĞµĞ¹ Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸ Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸

ĞœÑ‹ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·ÑƒĞµĞ¼:
1. ĞšĞ»Ğ°ÑÑ `Layer` â€” ÑĞ»Ğ¾Ğ¹ Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ°
2. ĞšĞ»Ğ°ÑÑ `Route` â€” Ğ½Ğ°Ğ±Ğ¾Ñ€ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ¾Ğ² Ğ´Ğ»Ñ Ğ¿ÑƒÑ‚Ğ¸
3. ĞšĞ»Ğ°ÑÑ `Router` â€” Ğ´Ğ¸ÑĞ¿ĞµÑ‚Ñ‡ĞµÑ€ Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¾Ğ²
4. ĞĞ±ÑŠĞµĞºÑ‚ `app` Ñ Ğ¼ĞµÑ‚Ğ¾Ğ´Ğ°Ğ¼Ğ¸ `.get`, `.post` Ğ¸ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ¾Ğ¼ ÑĞµÑ€Ğ²ĞµÑ€Ğ°

---

## ğŸ“¦ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

mini-router/
â”œâ”€â”€ index.js // Ğ¢Ğ¾Ñ‡ĞºĞ° Ğ²Ñ…Ğ¾Ğ´Ğ°
â”œâ”€â”€ router.js // ĞšĞ»Ğ°ÑÑ Router Ğ¸ Route

---

## ğŸ›  ĞŸĞ¾ÑˆĞ°Ğ³Ğ¾Ğ²Ğ¾Ğµ Ñ€ÑƒĞºĞ¾Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ¾

### Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

mkdir mini-router
cd mini-router
npm init -y

## Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ express.js

```
exports = module.exports = createApplication;

function createApplication() {
  let app = function(req, res, next) {
    app.handle(req, res, next);
  };

  // ĞœĞ¸ĞºÑĞ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¼ĞµÑ‚Ğ¾Ğ´Ñ‹
  mixin(app, require('./app'), false);

  app.init();
  return app;
}

```

## Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ App.js

```
methods.forEach(function(method) {
  app[method] = function(path, ...handlers) {
    this.lazyrouter();
    const route = this._router.route(path);
    route[method](...handlers);
    return this;
  };
});

app.listen = function(...args) {
  const server = http.createServer(this);
  return server.listen(...args);
};

app.handle = function(req, res, out) {
  this._router.handle(req, res, out);
};


```

## Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ router.js
```

// router.js
const Layer = require('./layer');

class Router {
  constructor() {
    this.stack = [];
  }

  get(path, handler) {
    this.stack.push(new Layer(path, 'GET', handler));
  }

  post(path, handler) {
    this.stack.push(new Layer(path, 'POST', handler));
  }

  handle(req, res) {
    const { url, method } = req;

    for (const layer of this.stack) {
      if (layer.match(url, method)) {
        return layer.handle(req, res);
      }
    }

    res.statusCode = 404;
    res.end('Not Found');
  }
}

module.exports = Router;

```

## Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ index.js

```
// index.js
const http = require('http');
const Router = require('./router');

const router = new Router();

router.get('/', (req, res) => {
  res.end('Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ°');
});

router.get('/about', (req, res) => {
  res.end('Ğ Ğ½Ğ°Ñ');
});

router.post('/data', (req, res) => {
  res.end('Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ñ‹');
});

const server = http.createServer((req, res) => {
  router.handle(req, res);
});

server.listen(3000, () => {
  console.log('Ğ¡ĞµÑ€Ğ²ĞµÑ€ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ½Ğ° http://localhost:3000');
});

```

## ĞŸĞ¾Ñ‚Ğ¾Ğº Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°

[ ĞšĞ»Ğ¸ĞµĞ½Ñ‚ ] â†’ [ HTTP-Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ ] â†’ [ Router â†’ Layer â†’ Handler ] â†’ [ HTTP-Ğ¾Ñ‚Ğ²ĞµÑ‚ ]

## Ğ”ĞµÑ€ĞµĞ²Ğ¾ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

mini-router/
â”œâ”€â”€ index.js
â”œâ”€â”€ router.js
â”œâ”€â”€ express.js
â””â”€â”€ app.js
